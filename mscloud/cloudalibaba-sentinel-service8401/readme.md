## 1 流控规则
#### 1.1 流控模式
* 直接   
  限流的是配置的资源名，流控规则针对的也是配置的资源名 
* 关联  
  限流的是配置的资源名，流控规则针对的是关联的资源名  
* 链路  
  只记录指定链路上的流量（指定资源从入口资源进来的流量，如果达到阈值就限流，api级别的针对来源）   
#### 1.2 流控效果
* 快速失败  
   直接抛出异常
* Warm Up  
  根据codeFactor(冷加载因子，默认3)的值，从阈值 / codeFactor,经过预热时长，才达到设置的QPS阈值  
* 排队等待  
  匀速排队方式会严格控制请求通过的间隔时间，也就是让请求以均匀的速度通过，对应的是漏桶算法  
  场景：突然一堆请求打进来，接下来一段时间又是空闲    
## 2 降级规则--没有半开状态
1.RT（平均响应时间，秒级）  
     平均响应时间 --> 超出阈值 **且**  在时间窗口内通过的请求 >= 5,两个条件同时满足触发降级  
     RT最大值为4900s（更大需要通过命令设置，如下：）  
     `-Dcp.sentinel.statistic.max.rt = XXX`  
2.异常比例（秒级）  
    QPS >= 5 **且** 异常比例（秒级统计）超过阈值，触发降级：时间窗口期结束后，关闭降级  
3.异常数（分钟级,近一分钟）  
    异常数（分钟统计）超过阈值时，触发降级；时间窗口结束后，关闭降级  

## 3 热点key规则
参数例外项：对请求上的某一个参数进行特别指定

## 4 授权规则


## 5 系统规则
从系统的整体维度对入口流量进行控制  




